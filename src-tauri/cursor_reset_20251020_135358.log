[2025-10-20 13:53:58.204] [INFO] === 系统信息 ===
[2025-10-20 13:53:58.206] [INFO] 操作系统: windows
[2025-10-20 13:53:58.209] [INFO] 架构: x86_64
[2025-10-20 13:53:58.210] [INFO] 工作目录: "D:\\auto-cursor\\src-tauri"
[2025-10-20 13:53:58.212] [INFO] 存储文件路径: "C:\\Users\\Administrator\\AppData\\Roaming\\Cursor\\User\\globalStorage\\storage.json"
[2025-10-20 13:53:58.214] [INFO] SQLite路径: "C:\\Users\\Administrator\\AppData\\Roaming\\Cursor\\User\\globalStorage\\state.vscdb"
[2025-10-20 13:53:58.216] [INFO] 日志文件路径: "D:\\auto-cursor\\src-tauri\\cursor_reset_20251020_135358.log"
[2025-10-20 13:53:58.217] [INFO] 存储文件是否存在: true
[2025-10-20 13:53:58.221] [INFO] SQLite文件是否存在: true
[2025-10-20 13:53:58.223] [INFO] 当前用户: Administrator
[2025-10-20 13:53:58.225] [INFO] === 系统信息结束 ===
[2025-10-20 13:53:58.227] [INFO] 开始完整的 Cursor 重置流程...
[2025-10-20 13:53:58.229] [INFO] === 步骤 1: 重置机器ID ===
[2025-10-20 13:53:58.231] [INFO] 开始机器ID重置流程...
[2025-10-20 13:53:58.233] [DEBUG] 检查存储文件: "C:\\Users\\Administrator\\AppData\\Roaming\\Cursor\\User\\globalStorage\\storage.json"
[2025-10-20 13:53:58.235] [INFO] 存储文件存在，继续处理
[2025-10-20 13:53:58.238] [INFO] 创建备份文件...
[2025-10-20 13:53:58.241] [INFO] Created backup at: C:\Users\Administrator\AppData\Roaming\Cursor\User\globalStorage\storage.json.bak.20251020_135358
[2025-10-20 13:53:58.242] [INFO] 生成新的机器ID...
[2025-10-20 13:53:58.245] [INFO] 生成的新ID: dev_device_id=2ef82cec-f89b-44ec-ba7b-4e7d1baa2894, machine_id长度=64, mac_machine_id长度=128, sqm_id={166B0F24-2A2C-4416-8DF1-B0C3C5BDD1C6}
[2025-10-20 13:53:58.247] [INFO] 更新存储文件...
[2025-10-20 13:53:58.251] [INFO] Successfully updated storage.json
[2025-10-20 13:53:58.253] [INFO] 更新SQLite数据库...
[2025-10-20 13:53:58.255] [DEBUG] SQLite更新结果: SQLite database update skipped (feature not implemented)
[2025-10-20 13:53:58.257] [INFO] 更新机器ID文件...
[2025-10-20 13:53:58.261] [INFO] Successfully updated machine ID file
[2025-10-20 13:53:58.263] [INFO] 更新系统ID...
[2025-10-20 13:53:58.265] [DEBUG] 系统ID更新结果: Permission denied: Cannot update Windows MachineGuid
[2025-10-20 13:53:58.267] [DEBUG] 系统ID更新结果: SQMClient registry key not found or permission denied
[2025-10-20 13:53:58.269] [INFO] 机器ID重置完成: Machine IDs reset successfully
[2025-10-20 13:53:58.271] [INFO] 机器ID重置结果: success=true, message=Machine IDs reset successfully
[2025-10-20 13:53:58.272] [DEBUG] 机器ID重置详情: Starting machine ID reset process...
[2025-10-20 13:53:58.273] [DEBUG] 机器ID重置详情: Created backup at: C:\Users\Administrator\AppData\Roaming\Cursor\User\globalStorage\storage.json.bak.20251020_135358
[2025-10-20 13:53:58.275] [DEBUG] 机器ID重置详情: Generated new machine IDs
[2025-10-20 13:53:58.277] [DEBUG] 机器ID重置详情: Successfully updated storage.json
[2025-10-20 13:53:58.278] [DEBUG] 机器ID重置详情: SQLite database update skipped (feature not implemented)
[2025-10-20 13:53:58.280] [DEBUG] 机器ID重置详情: Successfully updated machine ID file
[2025-10-20 13:53:58.281] [DEBUG] 机器ID重置详情: Permission denied: Cannot update Windows MachineGuid
[2025-10-20 13:53:58.282] [DEBUG] 机器ID重置详情: SQMClient registry key not found or permission denied
[2025-10-20 13:53:58.284] [INFO] 机器ID重置成功
[2025-10-20 13:53:58.285] [INFO] === 步骤 2: 修改 main.js ===
[2025-10-20 13:53:58.304] [INFO] 找到Cursor应用路径: package.json="C:\\Program Files\\Cursor\\resources\\app\\package.json", main.js="C:\\Program Files\\Cursor\\resources\\app\\out\\main.js"
[2025-10-20 13:53:58.305] [INFO] package.json存在: true, main.js存在: true
[2025-10-20 13:53:58.307] [INFO] 开始修改 main.js 文件...
[2025-10-20 13:53:58.308] [INFO] 开始修改main.js文件: "C:\\Program Files\\Cursor\\resources\\app\\out\\main.js"
[2025-10-20 13:53:58.310] [DEBUG] 读取main.js文件内容...
[2025-10-20 13:53:58.313] [INFO] main.js文件大小: 1187585 字节
[2025-10-20 13:53:58.314] [INFO] 创建main.js备份: C:\Program Files\Cursor\resources\app\out\main.js.backup.20251020_135358
[2025-10-20 13:53:58.318] [WARN] Warning: Failed to modify main.js: Failed to create backup of main.js
[2025-10-20 13:53:58.319] [INFO] === 步骤 3: 修改 workbench.desktop.main.js ===
[2025-10-20 13:53:58.332] [INFO] 找到workbench路径: "C:\\Program Files\\Cursor\\resources\\app\\out\\vs\\workbench\\workbench.desktop.main.js"
[2025-10-20 13:53:58.334] [INFO] workbench文件存在: true
[2025-10-20 13:53:58.336] [INFO] 开始修改 workbench.desktop.main.js 文件...
[2025-10-20 13:53:58.337] [INFO] 开始修改workbench.desktop.main.js文件: "C:\\Program Files\\Cursor\\resources\\app\\out\\vs\\workbench\\workbench.desktop.main.js"
[2025-10-20 13:53:58.339] [DEBUG] 读取workbench.desktop.main.js文件内容...
[2025-10-20 13:53:58.361] [INFO] workbench.desktop.main.js文件大小: 24016449 字节
[2025-10-20 13:53:58.362] [INFO] 创建workbench.desktop.main.js备份: C:\Program Files\Cursor\resources\app\out\vs\workbench\workbench.desktop.main.js.backup.20251020_135358
[2025-10-20 13:53:58.368] [WARN] Warning: Failed to modify workbench.desktop.main.js: Failed to create backup of workbench.desktop.main.js
[2025-10-20 13:53:58.369] [INFO] === Cursor 重置流程完成 ===
[2025-10-20 13:53:58.371] [INFO] 最终结果: Complete Cursor reset successful
[2025-10-20 13:53:58.373] [INFO] 成功状态: true
[2025-10-20 13:53:58.374] [INFO] 详细信息条目数: 11
[2025-10-20 13:53:58.375] [INFO] 日志文件位置: "D:\\auto-cursor\\src-tauri\\cursor_reset_20251020_135358.log"
